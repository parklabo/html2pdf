# HTML to PDF 변환 스크립트

Node.js와 Puppeteer를 사용하여 HTML 파일을 PDF로 변환하는 스크립트입니다.

## 필요 조건

- Node.js (v14 이상 권장)
- npm (Node.js와 함께 설치됨)

Node.js는 [공식 웹사이트](https://nodejs.org/)에서 다운로드할 수 있습니다.

## 설치 방법

```bash
npm install
```

필요한 라이브러리(Puppeteer)를 자동으로 설치합니다.

## 프로젝트 구조

```
html2pdf/
├── convert.js          # HTML을 PDF로 변환하는 메인 스크립트
├── package.json        # 프로젝트 메타데이터 및 의존성 목록
├── target/            # 변환할 HTML 파일을 배치하는 폴더
└── output/            # 생성된 PDF 파일이 저장되는 폴더
    └── backup/        # 기존 PDF 파일이 백업되는 폴더 (자동 생성)
```

## 사용 방법

### 1. HTML 파일 준비
`target` 폴더에 변환하려는 HTML 파일을 배치합니다.

### 2. 출력 폴더 생성
`output` 폴더를 미리 생성해야 합니다:
```bash
mkdir output
```

### 3. 스크립트 실행
```bash
node convert.js
```

### 4. 결과 확인
`output` 폴더에서 생성된 PDF 파일을 확인할 수 있습니다.

## 주요 기능

- **병렬 처리**: 여러 HTML 파일을 동시에 변환하여 처리 속도를 향상시킵니다.
- **자동 백업**: 기존 PDF 파일이 존재하는 경우, 타임스탬프가 포함된 파일명으로 `backup` 폴더에 자동 백업됩니다.
  - 예: `example_2025-11-19T12-30-45.123Z.pdf`
- **에러 처리**: 개별 파일 변환 실패 시에도 다른 파일들의 변환이 계속 진행됩니다.
- **자동 폴더 생성**: `backup` 폴더가 없으면 자동으로 생성됩니다.

## PDF 설정

현재 PDF 생성 설정:
- 용지 크기: A4
- 헤드리스 모드: true (백그라운드 실행)
- 대기 조건: networkidle0 (네트워크 요청이 완료될 때까지 대기)

## 주의사항

- HTML 파일은 반드시 `target` 폴더에 배치해야 합니다.
- `output` 폴더는 스크립트 실행 전에 미리 생성되어 있어야 합니다.
- `backup` 폴더는 자동으로 생성되므로 별도로 만들 필요가 없습니다.
- 대량의 파일을 변환할 때는 시간이 소요될 수 있습니다.
- HTML 파일에 외부 리소스(이미지, CSS, JS)가 포함된 경우, 올바른 경로가 설정되어 있어야 합니다.

## 문제 해결

### 변환이 실패하는 경우
- HTML 파일의 경로가 올바른지 확인하세요.
- 외부 리소스의 경로가 절대 경로 또는 올바른 상대 경로인지 확인하세요.
- Node.js 버전이 최신인지 확인하세요.

### Puppeteer 설치 오류
- 인터넷 연결을 확인하세요.
- `npm cache clean --force` 후 다시 설치를 시도하세요.

## 라이선스

이 프로젝트는 자유롭게 사용할 수 있습니다.
